# FileSorter — Сортировка файлов по дате

Простой и эффективный инструмент на Rust для автоматической сортировки файлов по дате. Программа анализирует имена файлов в поисках даты и, при её отсутствии, использует дату создания/изменения файла. Все файлы перемещаются в структурированную папку по принципу:  
`Год / Месяц (с названием на русском) / День`.

Поддерживает перемещение файлов даже между разными дисками (в том числе между разделами или сетевыми томами).

---

## 📦 Установка

### Требования
- [Rust](https://www.rust-lang.org/tools/install) (версия 1.56 или новее)

### Сборка
1. Клонируйте репозиторий:
   ```bash
   https://gitverse.ru/lukasjohancen/FileSorter
   cd FileSorter
   ```

2. Соберите проект:
   ```bash
   cargo build --release
   ```

3. Исполняемый файл будет находиться в `target/release/filesorter` (или `target/release/filesorter.exe` на Windows).

---

## ▶️ Использование

Запустите программу из терминала:

```bash
./target/release/filesorter
```

Программа последовательно запросит:

1. **Путь к исходной папке** — откуда брать файлы для сортировки.
2. **Путь к папке назначения** — куда перемещать отсортированные файлы.

> 💡 Пример структуры после сортировки:
> ```
> Папка назначения/
> ├── 2023/
> │   ├── 03 - марта/
> │   │   └── 15/
> │   │       └── document_2023-03-15.pdf
> │   └── 12 - декабря/
> │       └── 01/
> │           └── photo20231201.jpg
> └── Без Даты/
>     └── unknown_file.txt
> ```

---

## 🔍 Как определяется дата?

Программа пытается найти дату **в двух местах**, в следующем порядке:

1. **В имени файла** — поддерживает форматы:
   - `ГГГГ-ММ-ДД` (например: `2023-03-15`)
   - `ГГГГ_ММ_ДД` (например: `2023_03_15`)
   - `ГГГГ.ММ.ДД` (например: `2023.03.15`)
   - `ГГГГММДД` (например: `20230315`)

   Год должен быть в диапазоне **1900–2099**.

2. **В метаданных файловой системы** — дата создания или (если недоступна) дата последнего изменения.

Если дата не найдена ни в одном из источников, файл перемещается в папку **`Без Даты`**.

---

## 💾 Перемещение между дисками

Программа корректно обрабатывает перемещение файлов между разными дисками (например, с `C:` на `D:` в Windows или между разделами в Linux/macOS).  
В таких случаях используется безопасный метод **копирование + удаление**, чтобы избежать ошибки `Invalid cross-device link`.

---

## 🛠 Зависимости

- [`chrono`](https://crates.io/crates/chrono) — работа с датами и временем.
- [`regex`](https://crates.io/crates/regex) — поиск дат в именах файлов.
- [`once_cell`](https://crates.io/crates/once_cell) — ленивая инициализация регулярных выражений.

---

## 🙌 Автор

Создано для упрощения организации цифровых архивов.  
**Вы не обязаны упоминать автора — но если захотите поделиться улучшением, это будет приятно!** [[LICENSE]]

---

> 🌍 Этот код — общественное достояние. Свобода без границ.